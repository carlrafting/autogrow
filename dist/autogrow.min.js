function e(e,t={}){if(!e&&""===e)return;const n={areaClass:"autogrow-area",containerClass:"autogrow",mirrorClass:"autogrow-mirror",spanClass:"autogrow-mirror-span",...t};if(!document.querySelector&&!document.addEventListener&&!document.body.classList)return;let a,r;if(e instanceof HTMLTextAreaElement&&(a=e),"string"==typeof e&&(r=e.charAt(0),a="#"===r||"."===r?document.querySelector(e):document.getElementById(e),r=null),!a)return;const{areaClass:o,containerClass:s,mirrorClass:d,spanClass:i}=n,c=document.createDocumentFragment(),l=document.createElement("div"),u=document.createElement("pre"),m=document.createElement("span"),p=document.createElement("br");return a.classList.contains(o)?void 0:(a.classList.add(o),l.classList.add(s),u.classList.add(d),m.classList.add(i),m.textContent=a.value,u.appendChild(m),u.appendChild(p),l.appendChild(u),l.addEventListener("input",(function(e){const t=e.target,n=t.value;t.classList.contains(o)&&(m.textContent=n)})),c.appendChild(l),a.parentNode&&a.parentNode.insertBefore(c,a),l.appendChild(a),a.autofocus&&a.focus(),{container:l,mirror:u,span:m,target:e,element:a})}e.all=function(t){const n=document.getElementsByTagName("textarea"),a=n.length;let r,o;for(var s=0;s<a;s++)o=n[s],r=Math.floor(1e7*Math.random()),o.id&&""!==o.id||(o.id="autogrow-"+r),e(o.id,t)},e.init=e.all,window.autogrow=e,window.a=e;export{e as autogrow};
