function e(e,t){if(t||(t={}),!e&&""===e)return;if(!document.querySelector&&!document.addEventListener&&!document.body.classList)return;let n,a;if(e instanceof HTMLTextAreaElement&&(n=e),"string"==typeof e&&(a=e.charAt(0),n="#"===a||"."===a?document.querySelector(e):document.getElementById(e),a=null),!n)return;const o=t.areaClass||"autogrow-area",r=t.containerClass||"autogrow",d=t.mirrorClass||"autogrow-mirror",s=t.spanClass||"autogrow-mirror-span",i=document.createDocumentFragment(),c=document.createElement("div"),l=document.createElement("pre"),u=document.createElement("span"),m=document.createElement("br");return n.classList.contains(o)?void 0:(n.classList.add(o),c.classList.add(r),l.classList.add(d),u.classList.add(s),u.textContent=n.value,l.appendChild(u),l.appendChild(m),c.appendChild(l),c.addEventListener("input",(function(e){const t=e.target,n=t.value;t.classList.contains(o)&&(u.textContent=n)})),i.appendChild(c),n.parentNode&&n.parentNode.insertBefore(i,n),c.appendChild(n),n.autofocus&&n.focus(),{container:c,mirror:l,span:u,target:e,element:n})}e.all=function(t){const n=document.getElementsByTagName("textarea"),a=n.length;let o,r;for(var d=0;d<a;d++)r=n[d],o=Math.floor(1e7*Math.random()),r.id&&""!==r.id||(r.id="autogrow-"+o),e(r.id,t)},e.init=e.all,window.autogrow=e,window.a=e;export{e as autogrow};
